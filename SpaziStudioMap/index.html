<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Spaces</title>
    <link rel="icon" type="image/x-icon" href="resources/scomodissima_icona.ico">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/map.css">
    <link rel="stylesheet" href="styles/panel.css">
    <link rel="stylesheet" href="styles/buttons.css">
    <link rel="stylesheet" href="styles/forms.css">
    <link rel="stylesheet" href="styles/alert.css">
    <link rel="stylesheet" href="styles/timeFilter.css">
</head>
<body>
    <div id="map"></div>
    
    <button class="add-location-btn" id="addLocationBtn">
        Non trovi il posto a cui stai pensando? Condividilo con noi!
    </button>
    
    <div class="form-overlay" id="formOverlay">
        <div class="form-container">
            <button class="form-close" id="formCloseBtn">×</button>
            <div class="form-header">
                <h2>Proponi un nuovo spazio di studio</h2>
                <p>Compila il modulo per suggerire un nuovo spazio da aggiungere alla mappa</p>
            </div>
            <form id="addLocationForm">
                <div class="form-group">
                    <label>Nome<span class="required">*</span></label>
                    <input type="text" id="spazio" name="spazio" required>
                    <span class="error-message" id="error-spazio">Questo campo è obbligatorio</span>
                </div>

                <div class="form-group">
                    <label>La tua email<span class="required">*</span></label>
                    <input type="email" id="email" name="email" required placeholder="tuo@email.com">
                    <span class="error-message" id="error-email">Inserisci un indirizzo email valido</span>
                </div>
                
                <div class="form-group">
                    <label>Descrizione attività<span class="required">*</span></label>
                    <textarea id="descrizione" name="descrizione" required></textarea>
                    <span class="error-message" id="error-descrizione">Questo campo è obbligatorio</span>
                </div>
                
                <div class="form-group">
                    <label>Indirizzo<span class="required">*</span></label>
                    <input type="text" id="indirizzo" name="indirizzo" required>
                    <span class="error-message" id="error-indirizzo">Questo campo è obbligatorio</span>
                </div>

                <div class="form-group">
                    <label>Funzionalità</label>
                    <input type="text" id="funzionalita" name="funzionalita">
                </div>
                
                <div class="form-group">
                    <label>Orari e giorni di apertura</label>
                    <input type="text" id="orari" name="orari">
                </div>
                
                <div class="form-group">
                    <label>Indirizzo Google</label>
                    <input type="url" id="indirizzoGoogle" name="indirizzoGoogle" placeholder="https://maps.google.com/...">
                    <span class="error-message" id="error-indirizzoGoogle">Inserisci un URL valido</span>
                </div>
                
                <div class="form-group">
                    <label>Link</label>
                    <input type="url" id="link" name="link" placeholder="https://...">
                    <span class="error-message" id="error-link">Inserisci un URL valido</span>
                </div>
                
                <div class="form-group">
                    <label>Capienza</label>
                    <input type="number" id="capienza" name="capienza" min="0">
                    <span class="error-message" id="error-capienza">Inserisci un numero valido</span>
                </div>
                
                <div class="form-group">
                    <label>Note</label>
                    <textarea id="note" name="note"></textarea>
                </div>
                
                <button type="submit" class="form-submit">
                    Chiedi di aggiungere questo posto alla mappa
                </button>
            </form>
        </div>
    </div>
        
    <div class="filters-container">        
        <div class="time-filter">
            <div class="time-filter-controls">
                <div class="time-control-group">
                    <label for="daySelect">Giorno</label>
                    <select id="daySelect">
                        <option value="lunedì">Lunedì</option>
                        <option value="martedì">Martedì</option>
                        <option value="mercoledì">Mercoledì</option>
                        <option value="giovedì">Giovedì</option>
                        <option value="venerdì">Venerdì</option>
                        <option value="sabato">Sabato</option>
                        <option value="domenica">Domenica</option>
                    </select>
                </div>
                <div class="time-control-group">
                    <label for="hourSlider">Ora: <span id="hourValue">12:00</span></label>
                    <input type="range" id="hourSlider" min="0" max="24" step="0.5" value="12">
                </div>
                <button id="showOpenBtn" class="show-open-btn">Mostra solo aperti</button>
            </div>
        </div>
    </div>
    
    <div class="info-panel" id="infoPanel">
        <div class="info-panel-header">
            <button class="close-panel" id="closePanelBtn">×</button>
            <h2 id="locationName"></h2>
        </div>
        <div class="info-panel-content" id="infoPanelContent"></div>
    </div>

    <div class="custom-alert-overlay" id="customAlertOverlay">
        <div class="custom-alert-box">
            <div class="custom-alert-icon" id="customAlertIcon"></div>
            <div class="custom-alert-message" id="customAlertMessage"></div>
            <button class="custom-alert-btn" id="customAlertBtn">OK</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>